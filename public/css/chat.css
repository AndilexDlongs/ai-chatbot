    html,
    body {
        height: 100%;
        background: #0d0f12;
      }
      .glass {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.035),
          rgba(255, 255, 255, 0.02)
        );
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.35),
          inset 0 1px 0 rgba(255, 255, 255, 0.04);
      }
      .ring-soft {
        box-shadow: 0 0 0 1px #1f2430 inset;
      }
      .placeholder-gray::placeholder {
        color: #8b92a7;
      }
      .fade-in {
        animation: fade 0.2s ease-out;
      }
      @keyframes fade {
        from {
          opacity: 0;
          transform: translateY(4px);
        }
        to {
          opacity: 1;
          transform: none;
        }
      }
      .btn-ghost:hover {
        background: rgba(255, 255, 255, 0.06);
      }
      .mono {
        font-variant-ligatures: none;
      }

      /* Lighter response surfaces */
      .card-surface {
        background: rgba(255, 255, 255, 0.055);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .card-surface:hover {
        border-color: rgba(255, 255, 255, 0.16);
      }
      .response-bubble {
        background: rgba(255, 255, 255, 0.075);
        border: 1px solid rgba(255, 255, 255, 0.16);
        border-radius: 14px;
      }
      .response-bubble:hover {
        border-color: rgba(255, 255, 255, 0.22);
      }
      .response-body {
        color: #e5e7eb;
      }
      .response-meta {
        color: #b6bdc8;
      }
      .chip-toggle input {
        accent-color: #e5e7eb;
      }

      /* Unisyn brand accent */
      .u-accent {
        background: radial-gradient(
            140% 140% at 50% -10%,
            rgba(139, 92, 246, 0.28) 0%,
            rgba(139, 92, 246, 0) 55%
          ),
          radial-gradient(
            120% 120% at 80% 0%,
            rgba(196, 181, 253, 0.24) 0%,
            rgba(196, 181, 253, 0) 48%
          ),
          #0d0f12;
      }
      .u-glow {
        filter: drop-shadow(0 8px 32px rgba(124, 58, 237, 0.35));
      }
      .u-stroke {
        stroke: url(#uGrad);
      }
      .u-orbit {
        transform-origin: 50% 50%;
        animation: u-spin 9s linear infinite;
      }
      .u-orbit.fast {
        animation-duration: 6.5s;
      }
      .u-orbit.slow {
        animation-duration: 12s;
        animation-direction: reverse;
      }
            /* Sidebar width is a CSS variable so the textbox can follow it */
      :root {
        --sidebar-width: 4rem;
      }

      /* Compact markdown rhythm */
      .msg-text {
        --md-gap: .35rem;
        --md-gap-lg: .55rem;
      }
      .msg-text > * { margin: 0; }
      .msg-text p, .msg-text ul, .msg-text ol, .msg-text pre,
      .msg-text blockquote, .msg-text table { margin: var(--md-gap) 0; }
      .msg-text h1, .msg-text h2, .msg-text h3 {
        margin: var(--md-gap-lg) 0 var(--md-gap);
        line-height: 1.25;
      }
      .msg-text h4, .msg-text h5, .msg-text h6 { margin: .4rem 0 .25rem; }
      .msg-text ul { list-style: disc; padding-left: 1.15rem; margin: .25rem 0 .35rem; }
      .msg-text ol { list-style: decimal; padding-left: 1.25rem; margin: .25rem 0 .35rem; }
      .msg-text li { margin: .15rem 0; }
      .msg-text pre {
        margin: .4rem 0;
        background: rgba(255,255,255,.06);
        border: 1px solid rgba(255,255,255,.08);
        border-radius: .7rem;
        overflow: hidden;
      }
      .msg-text code { background: rgba(255,255,255,.06); padding: .08rem .35rem; border-radius: .35rem; }
      .msg-text pre code { background: transparent; padding: 0; }
      /* Make the hit-area a perfect square and center contents */
      :root{
        --icon-btn: 34px;   /* button box size */
        --icon: 18px;       /* glyph size */
        --icon-radius: .6rem;
      }

      /* Perfectly centered square hit-area */
      .icon-btn{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        width:var(--icon-btn);
        height:var(--icon-btn);
        padding:0;
        line-height:0;
        box-sizing:border-box;
        border:1px solid rgba(255,255,255,.10);
        border-radius:var(--icon-radius);
        background:transparent;
        color:#bbc3d4;
        transition:transform .08s ease, background .15s ease, color .15s ease;
      }
      .icon-btn:hover{ background:rgba(255,255,255,.06); color:#fff; }
      .icon-btn:active{ transform:scale(.97); }

      /* The SVG itself */
      .icon{
        width:var(--icon);
        height:var(--icon);
        display:block;
        margin:0;
        pointer-events:none;
      }

      /* Optional quick presets if you want bigger/smaller per context */
      .icon-btn.sm { --icon-btn: 30px; --icon: 16px; }
      .icon-btn.md { --icon-btn: 34px; --icon: 18px; }  /* default */
      .icon-btn.lg { --icon-btn: 38px; --icon: 20px; }

      /* Touch devices: bump size for comfortable tap target */
      @media (pointer: coarse){
        :root{ --icon-btn: 38px; --icon: 20px; }
      }

      .code-block {
      border: 1px solid rgba(255,255,255,.1);
      border-radius: .8rem;
      overflow: hidden;
      background: rgba(255,255,255,.04);
      margin: .4rem 0;
    }
    .code-bar {
      display: flex; align-items: center; justify-content: space-between;
      padding: .4rem .6rem;
      background: #0f1115;
      border-bottom: 1px solid rgba(255,255,255,.08);
      font-size: .75rem; color: #cbd5e1; letter-spacing: .02em;
    }
    .code-bar .lang { text-transform: uppercase; opacity: .85; }
    .code-block pre { margin: 0; background: transparent; padding: .75rem; }
    .code-copy-btn { border: 1px solid rgba(255,255,255,.1); border-radius: .5rem; width: 28px; height: 28px; display:grid; place-items:center; }
    .code-copy-btn:hover { background: rgba(255,255,255,.06); }

      /* Sidebar collapsed / expanded */
      aside.sidebar {
        width: 4rem;
        align-items: center;
        transition: width 0.25s ease;
      }

      aside.sidebar.sidebar-expanded {
        width: 16rem;
        align-items: stretch;
      }

      /* Text labels inside sidebar: hidden when collapsed */
      .sidebar .sidebar-label {
        display: none;
        white-space: nowrap;
      }

      /* Show labels when expanded */
      .sidebar.sidebar-expanded .sidebar-label {
        display: inline;
      }
      /* GLOBAL DARK SCROLLBARS */
      * {
        scrollbar-width: thin;
        scrollbar-color: rgba(139,92,246,0.35) #0c0e11; /* thumb + track */
      }

      *::-webkit-scrollbar {
        width: 8px;
      }

      *::-webkit-scrollbar-track {
        background: #0c0e11; /* dark track */
      }

      *::-webkit-scrollbar-thumb {
        background: rgba(139,92,246,0.45); /* purple thumb */
        border-radius: 8px;
      }


      /* Textbox fixed at bottom, respecting sidebar width 
      .fullwidth-textbox {
        position: fixed;
        bottom: 0;
        left: var(--sidebar-width);
        right: 0;
        width: calc(90% - var(--sidebar-width));
        border-top: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(13, 15, 18, 0.95);
        backdrop-filter: blur(10px);
        padding: 1rem 2rem;
        z-index: 40;
      } */

      /* Chat container: same column width + white outline so you can see it */
      /*.fullwidth-chat {
        width: calc(100% - 0rem); /* keep full width of its column */
        /* border: 1px solid #ffffff; */
        /*border-radius: 0.75rem;
        padding: 1rem;
      }*/
      .ai-message {
        display: flex;
        justify-content: flex-start; /* left align AI + thinking */
      }
      .fade-out {
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.4s ease, transform 0.4s ease;
      }
      .user-message {
        display: flex;
        justify-content: flex-end;
      }
            /* (no more fullwidth textbox â€“ we keep it inline with the chat section) */

      /* Chat container outline so you can see its bounds when chatting */
      #chatContainer.chat-framed {
        /* border: 1px solid #ffffff; */
        border-radius: 0.75rem;
        padding: 1rem;
      }
      #chatShell {
        padding-bottom: 120px; /* keep messages above the fixed textbox */
      }

      #llmDropdown::-webkit-scrollbar {
        width: 6px;
      }
      #llmDropdown::-webkit-scrollbar-thumb {
        background-color: rgba(139,92,246,0.35);
        border-radius: 6px;
      }
      #llmDropdown {
        left: calc(var(--sidebar-width) + 1rem);
        animation: fadeIn 0.25s ease-out;
      }
      #llmDropdown input[disabled] {
        filter: grayscale(1);
        opacity: 0.6;
      }
      /* --- Chat message layout & wrapping --- */
      .msg-row { display:flex; gap:12px; width:100%; }
      .msg-col { flex:1 1 auto; min-width:0; } /* min-width:0 lets text wrap in flex children */
      .msg-text {
        white-space: pre-wrap;           /* keep newlines, wrap */
        overflow-wrap: anywhere;         /* prevent spill */
        word-break: break-word;          /* extra safety */
        line-height: 1.6;
      }

      /* AI: no background / no outline */
      .msg-ai .msg-text { padding: 2px 0; } /* subtle breathing room */

      /* User bubble styling stays, but ensure wrap */
      .bubble-user {
        background: rgb(79 70 229); /* indigo-600 */
        color: #fff;
        border-radius: 1rem;
        border-bottom-right-radius: .25rem;
        padding: .5rem 1rem;
        max-width: 70%;
      }

      /* Avatars / logos */
      .ai-avatar, .user-avatar {
        width: 28px; height: 28px;
        flex: 0 0 28px;
        border-radius: 9999px;
        display: grid; place-items: center;
        background: #0f1115; border: 1px solid rgba(255,255,255,.08);
        overflow: hidden;
      }
      .ai-avatar img { width: 20px; height: 20px; object-fit: contain; }

      /* Action rows */
      .msg-actions {
        margin-top: .5rem;
        display: flex; gap: .375rem;
        font-size: .85rem;
        color: #9aa1b1;
      }
      .msg-actions button {
        padding: .25rem .5rem;
        border-radius: .5rem;
        border: 1px solid rgba(255,255,255,.08);
        background: transparent;
      }
      .msg-actions button:hover { background: rgba(255,255,255,.06); color: #e5e7eb; }

      /* Place user actions on the right */
      .msg-actions.user { justify-content: flex-end; }
      .msg-actions.ai { justify-content: flex-start; }

      /* Thinking dots */
      .thinking {
        display:inline-flex; align-items:center; gap:6px;
        color:#b6bdc8;
      }
      .dots { display:inline-flex; gap:4px; }
      .dots span {
        width:6px; height:6px; border-radius:9999px; background:#9aa1b1; opacity:.45;
        animation: blink 1.2s infinite ease-in-out;
      }
      .dots span:nth-child(2){ animation-delay:.15s; }
      .dots span:nth-child(3){ animation-delay:.3s; }
      @keyframes blink {
        0%, 80%, 100% { opacity:.25; transform: translateY(0)} 
        40% {opacity:.9; transform: translateY(-2px)} 
      } 
      @keyframes fade-in {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .fade-in { animation: fade-in 0.25s ease-out; }
      @keyframes u-spin {
        to {
          transform: rotate(360deg);
        }
      }
      @media (prefers-reduced-motion: reduce) {
        .u-orbit,
        .u-orbit.fast,
        .u-orbit.slow {
          animation: none;
        }
      }
      @keyframes toastIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
      }
      @keyframes toastOut {
        from { opacity: 1; transform: scale(1); }
        to { opacity: 0; transform: scale(0.95); }
      }
      .animate-toast-in {
        animation: toastIn 0.25s ease-out forwards;
      }
      .animate-toast-out {
        animation: toastOut 0.3s ease-in forwards;
      }
      /* DARK MODE CHECKBOXES */
      input[type="checkbox"] {
        appearance: none;
        -webkit-appearance: none;
        width: 1rem;
        height: 1rem;
        border: 2px solid #4b5563; /* dark border */
        border-radius: 4px;
        background-color: #1a1b1f; /* dark background */
        cursor: pointer;
        transition: all 0.2s ease;
      }

      input[type="checkbox"]:checked {
        background-color: #8b5cf6; /* brand purple */
        border-color: #8b5cf6;
        box-shadow: 0 0 6px rgba(139, 92, 246, 0.6);
      }

      input[type="checkbox"]:disabled {
        background-color: #111216 !important;
        border-color: #333 !important;
        opacity: 0.4;
        cursor: not-allowed;
      }
      /* Sidebar collapsed / expanded */
      /* New: Hide the 'Recent' heading when collapsed */
      .sidebar:not(.sidebar-expanded) .sidebar-label-recent {
        display: none !important;
      }

      /* New: When collapsed, make the New Chat button transparent */
      .sidebar:not(.sidebar-expanded) #newChatBtn {
        background-color: transparent !important;
        padding: 0; /* Remove padding to make it a small square */
        width: 44px; /* Set a fixed size matching icon button size */
        height: 44px;
        justify-content: center; /* Center the icon */
      }

      /* New: When collapsed, just show the purple icon */
      .sidebar:not(.sidebar-expanded) #newChatBtn svg {
        background-color: #7c3aed; /* Purple background for the icon */
        border-radius: 9999px;
        padding: 4px; /* Add padding inside the circle */
        width: 32px;
        height: 32px;
      }
          